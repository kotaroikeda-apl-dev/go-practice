# Go Methods の基本

このディレクトリでは、Go のメソッドの基本概念を学びます。

## メソッドとは

Go にはクラスはありませんが、型に対してメソッドを定義できます。
メソッドは特別なレシーバー引数を持つ関数です。

## 基本的な構文

```go
func (レシーバー 型) メソッド名(引数) 戻り値 {
    // 処理
}
```

## この例で学ぶこと

1. **値レシーバー**: `func (w Wallet) Deposit(amount int) int`

   - レシーバーのコピーが渡される
   - メソッド内でレシーバーを変更しても、元の値は変更されない
   - 新しい値を返すことで状態を更新する

2. **エラー処理**: `func (w Wallet) Withdraw(amount int) (int, error)`

   - Go ではエラーを戻り値として返すのが一般的
   - `errors.New()`でエラーを作成
   - 呼び出し側で`if err != nil`でエラーチェック
   - エラー時は元の残高を返し、成功時は新しい残高を返す

3. **メソッドの呼び出し**: `wallet.Balance = wallet.Deposit(500)`

   - ドット記法でメソッドを呼び出す
   - 返された新しい値を`wallet.Balance`に代入して状態を更新

4. **String()メソッド**: 特別なメソッドで、fmt パッケージで自動的に呼び出される

## 実行方法

```bash
go run main.go
```

## 出力例

```
=== Go Methods ===
初期状態: 田中太郎のウォレット: 残高 1000円
500円入金後: 田中太郎のウォレット: 残高 1500円
300円出金後: 田中太郎のウォレット: 残高 1200円
現在の残高: 1200円
出金エラー: 残高不足です
残高は変更されていない: 田中太郎のウォレット: 残高 1200円
500円出金後: 田中太郎のウォレット: 残高 700円
```
