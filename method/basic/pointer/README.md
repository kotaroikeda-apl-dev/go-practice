# ポインタレシーバー

このディレクトリでは、ポインタレシーバーを使ったメソッドの定義方法を学びます。

## ポインタレシーバーとは

ポインタレシーバーは、レシーバーの型が`*T`の形式で定義されるメソッドです。
ポインタレシーバーを使うことで、メソッド内でレシーバーの状態を直接変更できます。

## 値レシーバーとポインタレシーバーの違い

1. **値レシーバー**: `func (c Counter) SetValue(value int)`

   - レシーバーのコピーが渡される
   - メソッド内でレシーバーを変更しても、元の値は変更されない
   - `SetValue(100)`を呼び出しても、元の`Counter`の値は変更されない

2. **ポインタレシーバー**: `func (c *Counter) Multiply(factor int)`
   - ポインタが渡されるため、メソッド内でレシーバーの状態を直接更新できる
   - 元の値が変更される
   - 状態を変更するメソッドでよく使われる

## この例で学ぶこと

1. **ポインタレシーバーの定義**: `func (c *Counter) Multiply(factor int)`

   - `*Counter`がポインタレシーバー
   - メソッド内で`c.Value`を変更すると、元の構造体の値が変更される

2. **値レシーバーとポインタレシーバーの使い分け**

   - 値を取得するだけなら値レシーバー（`GetValue()`）
   - 値を変更するならポインタレシーバー（`Multiply()`、`Increment()`）

3. **メソッドの呼び出し**: `counter.Multiply(3)`

   - ポインタレシーバーの場合、値でもポインタでも呼び出せる（Go が自動変換）
   - `counter.Multiply(3)`と`(&counter).Multiply(3)`は同じ

4. **よくある使い方**
   - メソッドがレシーバーを変更する必要がある場合、ポインタレシーバーを使う
   - メソッドがレシーバーを変更しない場合、値レシーバーでもポインタレシーバーでも良いが、一貫性を保つことが重要

## 実行方法

```bash
go run main.go
```

## 出力例

```
=== Go Methods with Pointer Receivers ===
初期状態: Counter{Value: 5}
現在の値: 5
SetValue(100)呼び出し後（変更なし）: Counter{Value: 5}
3倍後: Counter{Value: 15}
1増やした後: Counter{Value: 16}
```
